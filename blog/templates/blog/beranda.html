{% load static %}<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beranda - Electronicku</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>

    <style>
        :root{--primary-blue:#007bff;--dark-blue:#0056b3;--light-gray:#f8f9fa;--medium-gray:#dee2e6;--dark-gray:#343a40;}body{font-family:'Roboto',sans-serif;background-color:var(--light-gray);margin:0;}.navbar{background-color:#fff;padding:15px 40px;box-shadow:0 2px 4px rgba(0,0,0,0.1);display:flex;justify-content:space-between;align-items:center;}.navbar-brand{font-size:1.5em;font-weight:700;color:var(--primary-blue);text-decoration:none;}.navbar-user{display:flex;align-items:center;}.navbar-user span{margin-right:20px;color:var(--dark-gray);}.btn-logout{padding:8px 15px;background-color:#dc3545;color:white;text-decoration:none;border-radius:8px;font-weight:500;transition:background-color .2s;border:none;cursor:pointer;font-family:'Roboto',sans-serif;font-size:1em;}.btn-logout:hover{background-color:#c82333;}.container{padding:40px;max-width:1200px;margin:auto;}.container h1{color:var(--dark-gray);margin-bottom:30px;}.product-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:30px;}.product-card{background-color:white;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,0.08);overflow:hidden;transition:transform .2s,box-shadow .2s;}.product-card:hover{transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,0.12);}.product-card img{width:100%;height:200px;object-fit:cover;}.product-info{padding:20px;}.product-info h3{margin-top:0;color:var(--dark-gray);}.product-info p{font-size:1.2em;font-weight:500;color:var(--primary-blue);}
    </style>
</head>
<body>
    
    <nav class="navbar">
        <a href="#" class="navbar-brand">Electronicku</a>
        <div class="navbar-user">
            <span>Halo, <strong>{{ user.username }}</strong>!</span>
            <form id="logout-form" action="{% url 'logout' %}" method="post" style="display: inline;">
                {% csrf_token %}
                <button type="submit" class="btn-logout">Logout</button>
            </form>
        </div>
    </nav>

    <div class="container">
        <h1>Produk Terbaru Kami</h1>
        <div class="product-grid">
            {% for product in products %}
            <div class="product-card">
                <img src="{% static product.gambar %}" alt="{{ product.nama }}">
                <div class="product-info">
                    <h3>{{ product.nama }}</h3>
                    <p>{{ product.harga }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <script>
        const logoutForm = document.getElementById('logout-form');

        logoutForm.addEventListener('submit', function(event) {
            event.preventDefault(); 

            Swal.fire({
                title: 'Apakah Anda yakin?',
                text: "Anda akan keluar dari sesi ini.",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#007bff',
                cancelButtonColor: '#6c757d',
                confirmButtonText: 'Ya, keluar!',
                cancelButtonText: 'Tidak'
            }).then((result) => {
                if (result.isConfirmed) {
                    this.submit();
                }
            })
        });
    </script>

</body>
</html>